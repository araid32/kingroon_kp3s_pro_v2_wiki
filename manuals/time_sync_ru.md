# Синхронизация времени на принтере

На основной плате нет батареи, поддерживающей RTC (real-time clock) это означает, что время на принтере при старте linux будет выставлено

на момент, когда принтер был выключен. Из-за этого принтер с фабрики показывет время на момент апреля 2023 года.

Это крайне неудобно, например для отладок, просмотра журналов и т.д.  по какой-то причине синхронизация времени на принтере в armbian не настроена. Причина в том, что синхронизация 

с помощью systemd-timesyncd.service, который по включен в автозагрузку, блокируется установленным ntpd, а автостарт ntp.service конфликтует с systemd-timesyncd.service.

Для того, чтобы на linux время было актуальным необходимо сделать следующие шаги:

1. зайти на [linux по ssh](ssh_ru.md) или [на консоль](serial_console_connection_ru.md)

2. настороить таймзону:

*   дать команду 
``` bash
sudo armbian-config 
```
* в появившемся меню выбрать Personal -> Timezone -> Europe -> Moscow (либо другую,  подходящую вам временную зону

3. отключить конфликтующий сервис systemd-timesyncd.service: 

``` bash
sudo systemctl disable systemd-timesyncd.service
```

4. убедиться , что сервис ntpd прописан в автозагрузку:

```
sudo systemctl enable ntp.service
```

5. дать команду на старт ntpd и убедиться что он стартовал и стал синхронизировать время с серверами ntp:

```
sudo systemctl start ntp.service
sudo systemctl status ntp.service
date
```
